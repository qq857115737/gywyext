<div ng-app="">
    <div class="container">
      <div class="a1">
	     <div class="b1">
	        <div class="d1" id="d1">
	           <p style="margin-left:20%" onclick="javascript:history.go(-1);">
	           <a class="a1" href="/gywyext/jsp/index/index.jsp#/">
	           <img src="../../../../images/gyLogoH.png"  width="80%" height="75%" align="left">
	           </a>
			    <!-- <img src="../../../../images/gyLogo.png"  width="80%" height="75%" align="left"> -->
			    <!-- <font size="6" color="red"><a class="a1" href="/gywyext/jsp/index/index.jsp#/">公元物业</a></font> -->
			   </p>
	        </div>
	        <div class="d3" id="d3">
	            <div class="title">
	                 <img src="../../../../images/warning01.png">
	                 <font size="3">{{warningTitle}}</font>
	            </div>
	            <!-- <div class="gundongtiao">
	            <ul id="ddd" ng-repeat="a in warning" style="list-style-type:circle">
	            <li> {{a.alarm_log_date.time|dateType}} {{a.alarm_log_info}}</li>
	            </ul>
	            </div> -->
				<div class="list" id="scrolling1">
				    <div class="cc rowup">
				    </div>
				</div>
				<ul id="ddd" ng-repeat="a in warning" style="list-style-type:circle">
	            <li> {{a.alarm_log_date.time|dateType}} {{a.alarm_log_info}}</li>
	            </ul>
	        </div>
	        <div class="d4" >
	            <div class="title">
	                 <img src="../../../../images/alarmLog.png">
	                 <font size="3">{{KeepViewTitle}}报警统计</font>
	            </div>
	            <div style="width: 100%;height:89%;" id="d4"></div>
	        </div>
	        <!-- <div class="d2" id=d2>
	          <video id="myPlayer" style="width: 100%; height:85%; poster="" controls playsInline webkit-playsinline autoplay>
	          <source src="rtmp://rtmp.open.ys7.com/openlive/bd2083cf239a4432836124f2888656f1.hd" type="rtmp/flv" />
              <source src="http://hls.open.ys7.com/openlive/bd2083cf239a4432836124f2888656f1.m3u8" type="application/x-mpegURL" />
              </video>
              <td>
				<button class="button1" ng-mousedown="getTurn(0)" ng-mouseup="getStop(0)" style="margin-left:25%">上移</button>
				<button class="button1" ng-mousedown="getTurn(1)" ng-mouseup="getStop(1)">下移</button>
				<button class="button1" ng-mousedown="getTurn(2)" ng-mouseup="getStop(2)">左移</button>
				<button class="button1" ng-mousedown="getTurn(3)" ng-mouseup="getStop(3)">右移</button>
		      </td>
	        </div> -->
	     </div>
	     <div class="b2">
	        <div class="d5" id="d5" ng-hide="main">
	        </div>
	        <div class="d6" id="d6">
	           <table class="panel-table" bordercolor="#0d48e0" border="1">
                    <thead  align="center" >
                        <tr>
                            <th colspan="4"><img src="../../../../images/viewing.png" />
                            <font size="4" color="#00f6ff">{{KeepViewTitle}}监控列表</font></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="center">
                        	<td style="color: #00fcff; font-size: 14px;">设备名称</td>
                        	<td style="color: #00fcff; font-size: 14px;">设备状态</td>
                        	<td style="color: #00fcff; font-size: 14px;">设备负责人</td>
                        	<td style="color: #00fcff; font-size: 14px;">操作</td>
                        </tr>
                        <tr style="font-size: 12px;" align="center" ng-repeat="e in equipments track by $index">
                            <td>{{e.equip_name}}</td>
                            <td>{{e.equip_state |EquipState}}</td>
                            <td>{{e.user.user_name}}</td>
                            <td>
                            	<button class="b2 click_pop" ng-click="tankuang(e.equip_id)">实时数据</button>
                            	<button class="b3 click_pop2" ng-click="donghua(e.equip_id)">模拟动画</button>
                            	<button class="b4 click_pop3" ng-click="dataAnalyse(e.equip_id)">大数据分析</button>
                            </td>
                        </tr>
                    </tbody>
               </table>
	        </div>
	     </div>
      </div>
      <div class="a2">
         <div class="d7" id="d8"></div>
         <div class="d7" id="d7">
            <div class="title">
              <img src="../../../../images/repairProLog.png">
              <font size="3">{{equipName}}维修预测</font>
            </div>
            <div class="gundongtiao" style="padding:5px">
            <p>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{preResult}}</p>
            </div>
         </div>
         <div class="d8" id="d9">
             <video id="myPlayer" style="width: 100%; height:85%; poster="" controls playsInline webkit-playsinline autoplay>
	          <source src="rtmp://rtmp.open.ys7.com/openlive/bd2083cf239a4432836124f2888656f1.hd" type="rtmp/flv" />
              <!-- <source src="http://hls.open.ys7.com/openlive/bd2083cf239a4432836124f2888656f1.m3u8" type="application/x-mpegURL" /> -->
              </video>
              <td>
				<button class="button1" ng-mousedown="getTurn(0)" ng-mouseup="getStop(0)" style="margin-left:25%">上移</button>
				<button class="button1" ng-mousedown="getTurn(1)" ng-mouseup="getStop(1)">下移</button>
				<button class="button1" ng-mousedown="getTurn(2)" ng-mouseup="getStop(2)">左移</button>
				<button class="button1" ng-mousedown="getTurn(3)" ng-mouseup="getStop(3)">右移</button>
		      </td>
         </div>
      </div>
    </div>
</div>

<!--遮罩层-->
<div class="bgPop"></div>
<!--弹出框-->
<div class="pop">
    <div class="pop-top">
        设备实时状态
        <span class="pop-close">Ｘ</span>
    </div>
    <div class="d9">
	<table class="panel-table" bordercolor="#0d48e0" border="1">
				<thead style="color: #00fcff; font-size: 12px;">
					<tr align="center">
						<th>编号</th>
						<th>监控参数</th>
						<th>显示图表</th>
						
					</tr>
				</thead>
				<tbody style="color: #00fcff; font-size: 12px;">
					<tr ng-repeat="e in equipara" align="center">
						<td>{{$index + 1}}</td>
						<td>{{e.equip_para_name}}</td>
						<td><button class="b2 click_pop"  style="width:100px"ng-click="getEquipRealData(e.equip_para_id)">查看实时状态</button></td>
				</tbody>
				
	</table>
	</div>
	<div id="echart" style="width: 700px; height:340px"></div>
</div>

<!--遮罩层-->
<div class="bgPop2"></div>
<!--弹出框-->
<div class="pop2">
    <div class="pop-top">
        报警记录
        <span class="pop-close">Ｘ</span>
    </div>
    <div class="pop-content">
        <iframe id="myframe" width="100%" height="100%" scrolling="no" frameborder="no">
	           </iframe>
	     <td>      
			<button id="b1" class="button1" value="open" ng-click="open()" style="margin-left:39%;display:none;background-color:#ff0000">开启电动阀</button>
			<button id="b2" class="button1" value="close" ng-click="close()" style="display:none; background-color:#ff0000">关闭电动阀</button>
         </td>
    </div>
</div>


<script>
//关闭模态框
	$(document).ready(function () {
	    $('.pop-close').click(function () {
	        $('.bgPop,.pop').hide();
	        document.getElementById("b1").style.display = "none";
	        document.getElementById("b2").style.display = "none";
	    });
	    $('.click_pop').click(function () {
	        $('.bgPop,.pop').show();
	    });
	})
</script>
<script>
//关闭模态框
	$(document).ready(function () {
	    $('.pop-close').click(function () {
	        $('.bgPop2,.pop2').hide();
	    });
	    $('.click_pop2').click(function () {
	        $('.bgPop2,.pop2').show();
	    });
	})
</script>





<script type="text/javascript">
   //var d1 = echarts.init(document.getElementById('d1')); 
   //var d2 = echarts.init(document.getElementById('d2'));
   //var d3 = echarts.init(document.getElementById('d3'));
   //var d4 = echarts.init(document.getElementById('d4')); 
   var d5 = echarts.init(document.getElementById('d5'));
   //var d6 = echarts.init(document.getElementById('d6'));
   //var d7 = echarts.init(document.getElementById('d7'));
   var d8 = echarts.init(document.getElementById('d8'));
   //var d9 = echarts.init(document.getElementById('d9'));
   var echart = echarts.init(document.getElementById('echart'));
   var player = new EZUIPlayer('myPlayer');
   // 日志(摄像头)
   player.on('log', log);
   function log(str){
       var div = document.createElement('DIV');
       document.body.appendChild(div);
   }   
</script>
<script type="text/javascript" src="/gywyext/js/lib/pageTurn.js"></script>


